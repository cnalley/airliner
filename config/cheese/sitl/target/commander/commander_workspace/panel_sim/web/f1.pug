- var pluginName = query.pluginName;

script(type="text/javascript" src="panels/panel_display.js")

div#f1_panel

script.
  var ledCoolantLoop1PumpAOn   = {};
  var swCoolantLoop1PumpA      = {};
  var ledCoolantLoop1PumpBOn   = {};
  var ledCoolantLoop1PumpBTrip = {};
  var swCoolantLoop1PumpB      = {};
  var swCoolantLoop1NH3Sys2    = {};
  
  var ledCoolantLoop2PumpAOn   = {};
  var swCoolantLoop2PumpA      = {};
  var ledCoolantLoop2PumpBOn   = {};
  var ledCoolantLoop2PumpBTrip = {};
  var swCoolantLoop2PumpB      = {};
  var swCoolantLoop2NH3Sys2    = {};
  
  var ledScrubberArsFan1On     = {};
  var ledScrubberArsFan1Trip   = {};
  var swScrubberArsFan1Pwr     = {};
  var swScrubberArsFan1Mode    = {};
  var ledLCGPumpOn             = {};
  var ledLCGPumpTrip           = {};
  var swLCGPump                = {};
  
  var ledScrubberArsFan2On     = {};
  var ledScrubberArsFan2Trip   = {};
  var swScrubberArsFan2Pwr     = {};
  var swScrubberArsFan2Mode    = {};
  var swDockingSep             = {};
  
  
  var draw = SVG('f1_panel').viewbox(0, 170, 800, 550);
  
  loadSVG('panels/panel_F1.svg');
  
  function loadSVG(SVGFile)
  {
      var loadXML = new XMLHttpRequest;
      loadXML.onload = callback;
      loadXML.open("GET", SVGFile, true);
      loadXML.send();
      function callback()
      {
          //---responseText---
          var svgFileString=loadXML.responseText;
          draw.svg(svgFileString);
          
          ledCoolantLoop1PumpAOn   = new LED('OFF', '#00ff00',  151, 43);
          ledCoolantLoop1PumpBOn   = new LED('OFF', '#00ff00',  306, 43);
          ledCoolantLoop1PumpBTrip = new LED('OFF', '#f4d742',  368, 43);
          
          swCoolantLoop1PumpA   = new Switch('DOWN',      89, 110, onCoolantLoop1PumpAChange);
          swCoolantLoop1PumpB   = new Switch('DOWN', 245, 110, onCoolantLoop1PumpBChange);
          swCoolantLoop1NH3Sys2 = new Switch('DOWN',   449, 110);
          
          ledCoolantLoop2PumpAOn   = new LED('OFF', '#00ff00',  151, 235);
          ledCoolantLoop2PumpBOn   = new LED('OFF', '#00ff00',  306, 235);
          ledCoolantLoop2PumpBTrip = new LED('OFF', '#f4d742',  368, 235);
          
          swCoolantLoop2PumpA   = new Switch('DOWN',  89, 302, onCoolantLoop2PumpAChange);
          swCoolantLoop2PumpB   = new Switch('DOWN', 245, 302, onCoolantLoop2PumpBChange);
          swCoolantLoop2NH3Sys2 = new Switch('DOWN', 449, 302);
  
          ledScrubberArsFan1On   = new LED('OFF', '#00ff00',  123,   438);
          ledScrubberArsFan1Trip = new LED('OFF', '#f4d742',  184.5, 438);
          ledLCGPumpOn           = new LED('OFF', '#00ff00',  450,   438);
          ledLCGPumpTrip         = new LED('OFF', '#f4d742',  513,   438);
          
          swScrubberArsFan1Pwr  = new Switch('DOWN',  89, 505, onScrubberArsFan1PwrChange);
          swScrubberArsFan1Mode = new Switch('DOWN', 245, 505);
          swLCGPump             = new Switch('DOWN', 449, 505, onLCGPumpChange);
  
          ledScrubberArsFan2On   = new LED('OFF', '#00ff00',  123,   630);
          ledScrubberArsFan2Trip = new LED('OFF', '#f4d742',  184.5, 630);
  
          swScrubberArsFan2Pwr  = new Switch('DOWN',  89, 697, onScrubberArsFan2PwrChange);
          swScrubberArsFan2Mode = new Switch('DOWN', 245, 697);
          swDockingSep          = new Switch('DOWN', 449, 697);
          
          /* Synchronize the LEDs with the switches */
          onCoolantLoop1PumpAChange();
          onCoolantLoop1PumpBChange();
          onCoolantLoop2PumpAChange();
          onCoolantLoop2PumpBChange();
          onScrubberArsFan1PwrChange();
          onScrubberArsFan2PwrChange();
          onLCGPumpChange();
      }
  }
  
  
  function onCoolantLoop1PumpAChange() {
      switch(swCoolantLoop1PumpA.getState()) {
          case 'UP':
          case 'MIDDLE':
          /* Fallthru */
              ledCoolantLoop1PumpAOn.on();
              break;
              
          case 'DOWN':
              ledCoolantLoop1PumpAOn.off();
              break;
       }    
  };
  
  
  function onCoolantLoop1PumpBChange() {
      switch(swCoolantLoop1PumpB.getState()) {
          case 'UP':
          case 'MIDDLE':
          /* Fallthru */
              ledCoolantLoop1PumpBOn.on();
              break;
              
          case 'DOWN':
              ledCoolantLoop1PumpBOn.off();
              break;
       }    
  };
  
  
  function onCoolantLoop2PumpAChange() {
      switch(swCoolantLoop2PumpA.getState()) {
          case 'UP':
          case 'MIDDLE':
          /* Fallthru */
              ledCoolantLoop2PumpAOn.on();
              break;
              
          case 'DOWN':
              ledCoolantLoop2PumpAOn.off();
              break;
       }    
  };
  
  
  function onCoolantLoop2PumpBChange() {
      switch(swCoolantLoop2PumpB.getState()) {
          case 'UP':
          case 'MIDDLE':
          /* Fallthru */
              ledCoolantLoop2PumpBOn.on();
              break;
              
          case 'DOWN':
              ledCoolantLoop2PumpBOn.off();
              break;
       }    
  };
  
  
  function onScrubberArsFan1PwrChange() {
      switch(swScrubberArsFan1Pwr.getState()) {
          case 'UP':
          case 'MIDDLE':
          /* Fallthru */
              ledScrubberArsFan1On.on();
              break;
              
          case 'DOWN':
              ledScrubberArsFan1On.off();
              break;
       }    
  };
  
  
  function onScrubberArsFan2PwrChange() {
      switch(swScrubberArsFan2Pwr.getState()) {
          case 'UP':
          case 'MIDDLE':
          /* Fallthru */
              ledScrubberArsFan2On.on();
              break;
              
          case 'DOWN':
              ledScrubberArsFan2On.off();
              break;
       }    
  };
  
  
  function onLCGPumpChange() {
      switch(swLCGPump.getState()) {
          case 'UP':
          case 'MIDDLE':
          /* Fallthru */
              ledLCGPumpOn.on();
              break;
              
          case 'DOWN':
              ledLCGPumpOn.off();
              break;
       }    
  };
