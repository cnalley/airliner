- var pluginName = query.pluginName;

div#f2_panel

script.

  
    
  loadSVG('panels/panel_F2.svg');

  
  function loadSVG(SVGFile)
  {      
      var swFCM1      = {};
      var swFCM2      = {};
      var swFCM3      = {};
      var swFCM4      = {};
      var swVPU1BFS   = {};
  
      var loadXML = new XMLHttpRequest;
      loadXML.onload = callback;
      loadXML.open("GET", SVGFile, true);
      loadXML.send();
      var draw = SVG('f2_panel').viewbox(0, 0, 958, 260);
      function callback()
      {
          //---responseText---
          var svgFileString=loadXML.responseText;
          draw.svg(svgFileString);
          
          swFCM1    = new Switch(draw, 'DOWN', 103, 116);
          swFCM2    = new Switch(draw, 'DOWN', 254, 116);
          swFCM3    = new Switch(draw, 'DOWN', 404, 116);
          swFCM4    = new Switch(draw, 'DOWN', 555, 116);
          swVPU1BFS = new Switch(draw, 'DOWN', 706, 116);
          
          session.subscribe([{name:'/panel-display/sw1Status/digital'}], function (data) { 
              var channelData = data[0].sample[0].value;
                         
              for(var entryIndex in SwitchMap) {
                  var entry = SwitchMap[entryIndex];

                  if(typeof entry.switch === 'function') {
                      var pass = true;
                      
                      for(var logicCheckIndex in entry.logic) {
                          var logicCheck = entry.logic[logicCheckIndex];
                          
                          if(channelData[logicCheck.channel] != logicCheck.state) {
                              pass = false;
                          }
                      }
                      
                      if(pass == true) {
                          entry.switch();
                      }
                  }
              }
          });
      }
      
  
  
  var SwitchMap = [
      { logic: [{channel: 43, state: 0}, {channel: 36, state: 0}], switch: function(){swFCM1.up();} },
      { logic: [{channel: 43, state: 0}, {channel: 36, state: 1}], switch: function(){swFCM1.middle();} },
      { logic: [{channel: 43, state: 1}, {channel: 36, state: 1}], switch: function(){swFCM1.down();} },
      
      { logic: [{channel: 42, state: 0}, {channel: 37, state: 0}], switch: function(){swFCM2.up();} },
      { logic: [{channel: 42, state: 0}, {channel: 37, state: 1}], switch: function(){swFCM2.middle();} },
      { logic: [{channel: 42, state: 1}, {channel: 37, state: 1}], switch: function(){swFCM2.down();} },
      
      { logic: [{channel: 41, state: 0}, {channel: 38, state: 0}], switch: function(){swFCM3.up();} },
      { logic: [{channel: 41, state: 0}, {channel: 38, state: 1}], switch: function(){swFCM3.middle();} },
      { logic: [{channel: 41, state: 1}, {channel: 38, state: 1}], switch: function(){swFCM3.down();} },
      
      { logic: [{channel: 40, state: 0}, {channel: 39, state: 0}], switch: function(){swFCM4.up();} },
      { logic: [{channel: 40, state: 0}, {channel: 39, state: 1}], switch: function(){swFCM4.middle();} },
      { logic: [{channel: 40, state: 1}, {channel: 39, state: 1}], switch: function(){swFCM4.down();} },
  ];
  }
